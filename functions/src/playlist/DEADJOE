
*** These modified files were found in JOE when it aborted on Tue Jun 25 18:53:49 2019
*** JOE was aborted by UNIX signal 15

*** File '(Unnamed)'
360*40.5
360-40
320/2
360*15
(360*15)/100
360-54
306/2
(360*15)/100
360-54
306/2

*** File '(Unnamed)'
":
/v1/
id
CANTAI
CANTAI
desfavoritar
MUSICA
ARTISTA
DESFAVO
DESFAV

*** File '(Unnamed)'
URUS
FOTO
TIROU
U.CPF
albuns
favoritar
ALBUM
ALBUM
FAVO
FAV

*** File '(Unnamed)'
incluir.js
incluir.js
incluir.js
incluir.js
incluir.js
incluir.js
incluir.js
incluir.js
incluir.js
incluir.js
../../routes.js

*** File '* Startup Log *'
Processing '/usr/local/Cellar/joe/4.6/etc/joe/jstarrc'...
Processing '/usr/local/Cellar/joe/4.6/etc/joe/ftyperc'...
Finished processing /usr/local/Cellar/joe/4.6/etc/joe/ftyperc
Finished processing /usr/local/Cellar/joe/4.6/etc/joe/jstarrc

*** These modified files were found in JOE when it aborted on Wed Jun 26 23:17:56 2019
*** JOE was aborted because the terminal closed

*** These modified files were found in JOE when it aborted on Fri Jun 28 17:19:05 2019
*** JOE was aborted because the terminal closed

*** File 'musicas_playlist.js'

// ConexÃ£o
const db = require('db').asyncConnect()

module.exports = async (req, res) => {
var util = []
  const {id} = req.params;

    if(id == null){
        res.send({"success": false, "message": "Informe o id da playlist."});
    }

    util = async (array, callback) => {
        for (let index = 0; index < array.length; index++) {
            await callback(array[index], index, array)
        }
    }

+25\9++++5~















































































































































































p0[











































































o[








5    var albuns = await db.query(`CALL PCD_CANTAI_LISTAR_PLAYLIST(${id}, ${req.jwt.id});`)

    await util(albuns[0], async (el, index) => {

        var resultado = JSON.parse(JSON.stringify(el))

        if (resultado.FAVORITADO == null) {
           resultado.FAVORITADO = "N"
        }
        
        var musicas = await db.query(`
           CALL PCD_CANTAI_LISTAR_MUSICAS_PLAYLIST(${resultado.ID_PLAYLIST}, ${req.jwt.id})
        `)

        albuns[0][index].MUSICAS = musicas[0]

    })

    return res.send({ "PLAYLIST" : albuns[0] });

}

*** File '(Unnamed)'
360*40.5
360-40
320/2
360*15
(360*15)/100
360-54
306/2
(360*15)/100
360-54
306/2

*** File '(Unnamed)'
/v1/
id
CANTAI
CANTAI
desfavoritar
MUSICA
ARTISTA
DESFAVO
DESFAV
PLAYLIST

*** File '(Unnamed)'
albuns
favoritar
ALBUM
ALBUM
FAVO
FAV
excluir
remover
favorito
ALBUM

*** File '(Unnamed)'
routes.js
routes.js
routes.js
routes.js
routes.js
routes.js
routes.js
routes.js
routes.js
routes.js
musicas_playlist.js

*** File '* Startup Log *'
Processing '/usr/local/Cellar/joe/4.6/etc/joe/jstarrc'...
Processing '/usr/local/Cellar/joe/4.6/etc/joe/ftyperc'...
Finished processing /usr/local/Cellar/joe/4.6/etc/joe/ftyperc
Finished processing /usr/local/Cellar/joe/4.6/etc/joe/jstarrc
